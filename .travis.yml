sudo: required
dist: trusty
language: java
dist: trusty
jdk: oraclejdk8
addons:
  ssh_known_hosts:
  - 47.93.42.145:22008
  - 47.93.42.145:22008
  - 47.93.42.145:22008
  - 47.93.18.60:22008
  - 47.93.18.60:22008
  - 47.93.18.60:22008
  sonarcloud:
    organization: tron-zhaohong
    token:
      secure: "KXWEeQ1elAoQ0XfR54TQWfhrIdDP0+2CYPv2X9aWpU/YDl7hqZBAjcCOAUGvlbyM54jtG6YMaWwG48jlrOwwl5l/VjWSnUXF+7ixQy5ki0Ci9s7Y1pTQwV9SpL8TLIK2TYqabN8Mw+FJULASXLjYr9GerbbcUbCPTmcL6mQKw6ivxxpNPmz4eNoKAEuOzruO9fTXGAV3yr8Nn85c+mVxV8EUhkR17zpE9O8fvzOtSnYArWNOSCgDBn0EG45UNNPF2vn44s1c3h3gX1m3WK6PeCXPgy3hPqRn3wTG+xglnbqthGpo2wt1rJ83af+BwdYwvPEcUq84yLgXcE/aMkTKcVAfPWBP/6vblaoI90jxCeFji+MdMimKZAqIXt7oLqDZVmIq65de5YC5s7QTSbzJNY/tsAu3dqzSfbUJY6CRNFDcoenVpvgQkqb37TkDah4mJM8EUjbu2A9Q2HSFbyCVsQJtdasuu9cBOf6azK3U0XgFNBc0y2aziZrTnX30q7bi+5L/mbTnRdXrDqBOqyPeGtT77UZfcajHHmEWU/e6gYWiA/c+K25n13DD53Au6gpnnQ6ALeUl/1gDwz3fPBebJ5bVWrkIcLj7bbysjzfOvQmDS6G13RNz58Hm0/B7bVtZTr1E1q6Z1zEJwbuJYEJASNcezAfK5x/hIfZTGNqT3M8="
cache:
  directories:
  - '$HOME/.sonar/cache'
matrix:
  include:
    - name: build
      script:
        - sh tron.sh
        - "./gradlew build"
        - "./gradlew jacocoTestReport"


    - name: stest
      script:
        - sh tron.sh
        - bash deploy.sh


after_success:
  - "bash <(curl -s https://codecov.io/bash) -t $codecov_token_key -s build/reports/jacoco/"

skip_build:
  - README.mdï¼š
  - LICENSE


notifications:
  slack:
    secure: C2FeYtRtwT64TwYMeHtgAUtJrWKeSBGgfdZKdWknbsC1T0rwiiGh8eattFhpUDvtuZogudeZZiehnOFxGfVTI8+vJ0GIhhO/jkbubrogg+8ril9t+KOoWGAyH6I9779+qPm0GxR4OwaeLbfhgmRxKgnj+flVNSsx82B/2PHQO0ZyV4CydTCkoQ8H7GEE5xTGeiqICWVnF4wQyBbvR0ckIrAhD4A7TI9YdEoe3JMxEGzOdGpmUrTwr0WuQY9mZhKuuvS9xCo9DttXN/6B0KqS2KkUZrwe9SiiEJvzZeSo6Wk96iLZEKU8RJBQqHx8dbcL3/YaNid/tW+m1eyY2NpHVEgQz6asBofpMiKoHg/Pm2n1EswIUlJyZtAzzCV+M06O3QR0I2s1bM1c7ed9OomlK0SpJPLUGvEnfl7VYhJbY3iq2FMjRzSxx9Y4b7biy5Dl/YwMAFekDrQa0/PbQJw+3B+eC/bfZ/898VQvgoRROjWN3pDXdwDpMAF2H/fjVcZ3hBLfQ0GtzodKAO4ZLLSmPs+LnBRksy6eg7pEbP7AOlbbaAVp84gv7iZtel2u13ZpAbiSOsfhKnUZHWCRQYeoVR0vr+lQ0hbnsc5RPqDYJV/C4XeqdSr0rxskGeDEhLvLtdSnwwndGZ2mEd+GvX907orZ7I3zCGzONYDKuQIQWzc=
  if: branch = master || develop 

